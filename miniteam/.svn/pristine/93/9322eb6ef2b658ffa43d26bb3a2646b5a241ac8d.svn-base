package service;

import static utils.Util.nextInt;
import static utils.Util.nextLine;

import app.Main;
import domain.Customer;

public class Service {
	private String name;
	private String id;
	private String pw;
	private int seat;
	
	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}
	MenuService menuService = MenuService.getMenuService();
	SeatService seatService = SeatService.getSeatService();
	ChargeSevice chargeSevice = ChargeSevice.getInstance();
	CustomerService cusservice = CustomerService.getCusservice();
	ManagerService managerService = ManagerService.getInstance();

	public void register() { // 회원가입
		name = nextLine("•────⋅☾ 이름 ☽⋅────•");
		this.id = nextLine("•────⋅☾ 아이디 ☽⋅────• ");
		Customer cus = cusservice.findBy1(id);
		if (cus == null) {
			pw = nextLine("•────⋅☾ 비밀번호 ☽⋅────•");
			if (pw.equals(nextLine("•────⋅☾ 비밀번호 확인 ☽⋅────•"))) {
				cusservice.addUser(name, id, pw);
				System.out.println(""
						+ ".　　 ∩\r\n" + 
						"　　( ⌒)　　∩__\r\n" + 
						"　　/ ,ノ　　 i　E)\r\n" + 
						"　 ／/　　　 / /\"\"\r\n" + 
						"　/ /_、_　／/\r\n" + 
						"／ / _ノ`) /／\r\n" + 
						"(　　　　／\r\n" + 
						"ヽ　　　｜ 따봉!\r\n" + 
						"　＼　　 ＼\r\n" + 
						"\r\n"+
						"\r\n"+
						"회원가입 커먼 굳굳"
						);

			} else {
				System.out.println(""
						+ "＿人人人人人人人人人人＿\r\n" + 
						"＞　제가뭘잘못한거죠　＜\r\n" + 
						"￣Y^Y^Y^Y^Y^Y^Y^Y^Y￣\r\n" + 
						"　　　┐( ∵ )┌\r\n" + 
						"　 　 　 ( 　) 　\r\n" + 
						"　　 　　┘|\r\n" + 
						"\r\n"+
						"\r\n"+
						"비밀번호 틀렸쥬");

			}
		}
	}

	public void login() {   // 로그인
		try {
			id = nextLine("•────⋅☾ 아이디 ☽⋅────•");
			pw = nextLine("•────⋅☾ 비밀번호 ☽⋅────•");
			Customer cus = cusservice.findBy(id, pw);
			if (cus == null) {
				System.out.println(""
						+ "찰싹　　　　(´·ω·`)　　　　찰싹\r\n" + 
						"　 (´·ω·`)　Ｕ☆ミ　(´·ω·`)\r\n" + 
						"　　　⊂彡☆))Д´)☆ミ⊃　찰싹\r\n" + 
						"　　　 　∩彡☆ ☆ミ∩\r\n" + 
						"　(　　　　)　 찰싹　(　　　　)\r\n" + 
						"　찰싹\r\n" + 
						"(；￣Д￣）회원가입 안했쨔나아😡");

				Main.main(null);
			} else {
				System.out.println(""
						+"⊂_ヽ\r\n" + 
						" 　 ＼＼ Λ＿Λ\r\n" + 
						"　　 ＼( 'ㅅ' ) \'오늘은\'\r\n" + 
						"　　　 >　⌒ヽ\r\n" + 
						"　　　/ 　 へ＼\r\n" + 
						"　　 /　　/　＼＼ \'치킨\'\r\n" + 
						"　　 ﾚ　ノ　　 ヽ_つ\r\n" + 
						"　　/　/\r\n" + 
						"　 /　/|\r\n" + 
						"　(　(ヽ \'각이다\'\r\n" + 
						"　|　|、＼\r\n" + 
						"　| 丿 ＼ ⌒)\r\n" + 
						"　| |　　) /\r\n" + 
						" ノ )　　Lﾉ\r\n" + 
						"로그인 완료쓰");

				action();
			}

		} catch (Exception e) {
			System.out.println(""
					+ "우아아아앙아ㅏ아ㅏ\r\n" + 
					"　ﾉ\"′∧∧∧∧、ヽ､\r\n" + 
					"((と(ﾟДﾟ三ﾟДﾟ)つ))\r\n" + 
					"　＼ヽﾐ　三　彡 ソ\r\n" + 
					"　　 )ﾐ ､_　彡ノ\r\n" + 
					"　　(ﾐ∪三∪彡\r\n" + 
					"　　 ＼ヾ丿ノ\r\n" + 
					"　　　 ヽ ﾉ\r\n" + 
					"　　　　)ﾉ\r\n" + 
					"　　　 ((\r\n" + 
					" 비밀번호를 다시 확인해바아");

		}
	}

	public void seatList() {  // 좌석 확인
		seatService.list();
		if(cusservice.getUserSeat(id) == false) {
			System.out.println("id == false");
			seatSelection();
		} else {
			System.out.println("id == true");
			action();
		}
	}
	
	public void seatSelection() {	
		seat = nextInt("좌석 번호 입력 > ");
		seatService.findBy(seat, id);
		action();
	}
	
	
	public void action() {  // 유저 메뉴
		int input = nextInt("╒◖═════════════════════════════════════════════════════════════◗╕ \r\n "+
	                           "Ⅰ.좌석 확인 및 선택 Ⅱ. 음식 Ⅲ. 요금제 Ⅳ. 메인이동 Ⅴ.로그아웃\r\n"+ 
	                        "╘◖═════════════════════════════════════════════════════════════◗╛\r\n");

		switch (input) {
		case 1:
			seatList();
			System.out.println("주문 완료");
			break;
		case 2:
			food();
			break;
		case 3:
			charge();
			break;
		case 4:
			Main.main(null);
			break;
		case 5:
			logout();
			break;
		}
	}

	public void food() { // 음식
		int category = nextInt(".　╲　　　　　　　　　　　╱\r\n" + 
				"　　　　　　　　　　/\r\n" + 
				"　　　╲　　　　　　　　╱\r\n" + 
				"　　╲　　    주문 좀　　　╱\r\n" + 
				"-　-　　　　　할 수        -　-　-\r\n" + 
				"　　╱　      있을까요?　　╲\r\n" + 
				"　╱　　/\r\n" + 
				"　　╱　　　　　　　　╲\r\n" + 
				"　　　　　/　|　　　\r\n" + 
				"　　　　　　　|\r\n" + 
				"\r\n"+
				"\r\n"+
				"\r\n"+
				". ᘏ▸◂ᘏ          ╭◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ◜◝ ╮\r\n" + 
				"꒰   ɞ̴̶̷ ·̮ ɞ̴̶̷ ꒱   .oO Ⅰ.라면 Ⅱ.식사류 Ⅲ.음료 Ⅳ.스낵 ᝰꪑ\r\n" + 
				"( つ旦O      ╰◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ◟◞ ╯\r\n" + 
				""+
				  "");

		menuService.print(category);
		int menuno = nextInt("•────⋅☾ 음식 번호 ☽⋅────•");
		int amount = nextInt("•────⋅☾ 주문 개수 ☽⋅────•");
		menuService.findByMenu(menuno, amount);
		action();
	}

	public void charge() { // 요금제
		chargeSevice.priceList();
		System.out.println(""+
				"주목!\r\n" + 
				"여길 확인해 주세요!\r\n" + 
				"　┏┓\r\n" + 
				"　┃┃\r\n" + 
				"　┃┃\r\n" + 
				"　┃┃\r\n" + 
				"　┃┃\r\n" + 
				"　┃┃\r\n" + 
				"　┃┃\r\n" + 
				"┏┻╋┳┳┓\r\n" + 
				"┃┏┫┃┃┃\r\n" + 
				"┃　┗┻┻┫\r\n" + 
				"┗┓　　┏┛\r\n" + 
				"　┗━━┛\r\n" + 
				"");
		int chargeno = nextInt("⚛》》》요금제 선택《《《⚛");

		chargeSevice.findBy(chargeno);
		cusservice.userAddTime(getId(), chargeno);
		action();
	}
	
	public void manager() {   // 관리자
		String manager;
		manager = nextLine(
				"╭◜◝͡◜◝͡◜◝͡◜◝͡◜◝͡◜◝͡◜◝͡◜◝͡◜◝╮\r\n" + 
				"     관리자 비밀번호\r\n"+
				"╰ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞ ͜ ◟◞╯\r\n" + 
				"O\r\n" + 
				"°\r\n" + 
				"/}__/}\r\n" + 
				"( • ▼•)\r\n" + 
				"");

		if(manager.equals("1234")) {
			// 관리자 모드로 전환
						
						System.out.println();
						System.out.println(
								"　　　　　 ／＼\r\n" + 
								"　　.∵　／　／|\r\n" + 
								"　　　ﾟ∴＼／／\r\n" + 
								"(ﾉ ՞ਊ ՞ﾉ|／\r\n" + 
								"/　　/\r\n" + 
								"매출이나 확인해볼까~?\r\n" + 
								"    ( ՞ਊ ՞ )　\r\n" + 
								"＿(_つ/￣￣/＿\r\n" + 
								"　 ＼/＿＿/\r\n" + 
								"\r\n" + 
								"하하하하하하 으하하하하\r\n" + 
								"");

						int recharge =nextInt("1.매출 확인");
						switch (recharge) {
						case 1:
							managerService.foodsCharge();
							managerService.seatCharge();
							System.out.println(
									".⠀⢰⠒⠒⠒⢲⠆⠀⠀⢀⠤⢤⡀⠀⡴⠀⠀⢀⣀⣀⣰⣀⣀⡀⠀⠀⠀⠀            ⡏⠒⠒⠒      ⢀⠤⢤⡀   ⠎                      ⠎       ⠀\r\n" + 
									"⠀⠀⣎⣀⣀⣀⡜⠀⠀⢰⠃⠀⢠⠇⢰⠓⠂⠀⢀⠔⠒⠒⠲⡄⠀⠀⠀⠀⠀⠀        ⣎⣀⣀⣀     ⢰⠃⠀⢠⠇  ⡅     ⡏⠒⠒⠒       ⡅              \r\n" + 
									"⠤⠤⠤⣤⠤⠤⠤⠄⠀⣇⠀⢀⠞⢀⡯⠤⠀⠀⠹⠤⡤⠤⠞⠁⠀⢠⠔⢤⣀⠆ ⠠⠤⠤⠴⠧⠤⠤⠄⣇⠀⢀⠞    ⡅     ⡅               ⡗⠒⠂ r\n" + 
									" ⠀⠀⢀⡏⠀⠀⠀⠀⠀⠈⠉⠁⠀⡸⠀⠀⠠⠤⠤⠴⠧⠤⠤⠄⠀⠀⠀⠀              ⣎⣀⣀⣀    ⠈⠉⠁      ⠇     ⣎⣀⣀⣀  ⠀   ⡇\r\n" + 
									"");

				break;
			}
		} else {
			System.out.println("비밀번호가 틀렸습니다.");
		}
	}
	
	public void logout() {
	}

}